webpackJsonp([13],{YyDJ:function(t,e){},rttb:function(t,e){},wXUp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("pFYg"),o=a.n(i),n=a("Dd8w"),s=a.n(n),r=a("NYxO"),l={components:{},watch:{operatorArr:function(t){this.operatorOptions=t,this.operatorId=this.operatorOptions[0].operatorId}},computed:s()({},Object(r.b)({operatorArr:function(t){return t.home.operatorArr},CSOptions:function(t){return t.home.chargeStationArr}})),mounted:function(){console.log(this.$common.getStartTime()),this.operatorOptions=this.$store.state.home.operatorArr,this.beginTime=this.$common.getSpaceDate(-30)+" 00:00:00",this.endTime=this.$common.getCurrentTime(),this.initData(),this.initLineData(),console.log("---------mounted-----------")},destroyed:function(){console.log("------destroyed--------")},data:function(){return{operatorOptions:[],fullscreenLoading:!1,total:10,beginTime:this.$common.getStartTime(),endTime:this.$common.getCurrentTime(),operatorId:34,stationOptions:[],type:3,dayArr:[],operator:null,mainScreenLoading:!1,tableData:window.config.tableData,trendLineDataList:[],staticTypeOptions:[{typeStr:1,typeName:"按电量统计"},{typeStr:2,typeName:"按次数统计"},{typeStr:3,typeName:"按收入统计"}]}},methods:{initLineData:function(){var t=this;this.operatorId?this.$homeAjax.trend({endTime:this.endTime,operatorId:this.operatorId,startTime:this.beginTime,type:this.type}).then(function(e){if(e.data.success){var a=e.data.model;if(t.dayArr=[],t.trendLineDataList=[],!a.length)return void t.$message({type:"warning",message:"查询结果为空"});for(var i=0;i<a.length;i++)t.dayArr.push(a[i].day),t.trendLineDataList.push(a[i].data);t.drawLine()}}).catch(function(){}):this.$message({type:"warnning",message:"请选择运营商"})},initData:function(){var t=this;this.$homeAjax.summary().then(function(e){console.log(e.data),e.data.success&&(t.tableData=[e.data.model])}).catch(function(){})},queryBtnAct:function(){this.currentPage=1,this.initLineData()},handleSizeChange:function(t){console.log("每页条数发生变化：",t),this.pageSize=t},drawLine:function(){var t=document.getElementById("canvasBox"),e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,a=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;if(this.$refs.canvsWidth.$el.style.width=e-500+"px",this.$refs.canvsWidth.$el.style.height=a/2+"px",console.log(e,this.$refs.canvsWidth.$el.style.width),t){t.style.width=this.$refs.canvsWidth.$el.style.width,t.style.height=this.$refs.canvsWidth.$el.style.height;var i=this.$echarts.init(t);window.addEventListener("resize",function(){i.resize()});var n;(n={tooltip:{trigger:"axis",show:!0,axisPointer:{type:"none"}},textStyle:{color:"#666666"},grid:{left:"10%",right:"6%",top:"10",bottom:"20"},xAxis:{type:"category",boundaryGap:!1,splitLine:{show:!1,lineStyle:{color:["#666666"],opacity:.6}},data:this.dayArr},yAxis:{type:"value",boundaryGap:!0,axisLabel:{formatter:"{value}"},splitLine:{show:!0,lineStyle:{color:["#666666"],opacity:.6}}},series:[{type:"line",color:["#28FFBB"],smooth:!1,itemStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#28FFBB"},{offset:1,color:"rgba(40,253,186,0.00)"}],globalCoord:!1}}},areaStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#28FFBB"},{offset:1,color:"rgba(40,253,186,0.00)"}],globalCoord:!1}}},data:this.trendLineDataList}]})&&"object"===(void 0===n?"undefined":o()(n))&&i.setOption(n,!0)}}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.mainScreenLoading,expression:"mainScreenLoading"}],staticClass:"OperatorStatics",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("div",{staticClass:"titleBox"},[t._v("\n      位置：\n      "),a("span",[t._v("首页／概览")])]),t._v(" "),a("div",{staticClass:"bodyBox"},[a("div",{staticClass:"topMenu",staticStyle:{"padding-bottom":"5px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:[t.tableData[0]],stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"chargeStationCount",label:"充电站总数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"chargePileCount",label:"充电桩总数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"chargePileDcCount",label:"直流桩总数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"chargePileAcCount",label:"交流桩总数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"weChatUserCount",label:"注册用户数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cardCount",label:"卡用户数"}})],1)],1),t._v(" "),a("div",{staticClass:"topMenu flex-spa",staticStyle:{margin:"15px 0"}},[a("div",{staticClass:"flex-sbw"},[a("div",{staticClass:"flex-sbw-div topTitleTxt flex-sbw-item"},[a("span",[t._v("运营商：")]),t._v(" "),a("el-select",{staticClass:"left-space time-interal",attrs:{clearable:"",placeholder:"请选择运营商",size:"small"},model:{value:t.operatorId,callback:function(e){t.operatorId=e},expression:"operatorId"}},t._l(t.operatorOptions,function(t){return a("el-option",{key:t.operatorId,attrs:{label:t.operatorName,value:t.operatorId}})}),1)],1),t._v(" "),a("div",{staticClass:"flex-sbw-div topTitleTxt flex-sbw-item"},[a("span",[t._v("统计类型：")]),t._v(" "),a("el-select",{staticClass:"left-space time-interal",attrs:{clearable:"",placeholder:"统计类型",size:"small"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.staticTypeOptions,function(t){return a("el-option",{key:t.typeStr,attrs:{label:t.typeName,value:t.typeStr}})}),1)],1),t._v(" "),a("div",{staticClass:"dateBox",staticStyle:{"text-align":"right"}},[a("span",{staticClass:"topTitleTxt"},[t._v("查询时间：")]),t._v(" "),a("el-date-picker",{staticClass:"time-interal-date",attrs:{type:"datetime",size:"small",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.beginTime,callback:function(e){t.beginTime=e},expression:"beginTime"}}),t._v(" "),a("span",{staticClass:"time-line"},[t._v("—")]),t._v(" "),a("el-date-picker",{staticClass:"time-interal-date",attrs:{type:"datetime",placeholder:"选择日期",size:"small","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)]),t._v(" "),a("el-button",{staticStyle:{margin:"5px 12px"},attrs:{type:"primary"},on:{click:t.queryBtnAct}},[t._v("查询")])],1),t._v(" "),a("el-container",[a("el-main",[a("div",{staticClass:"echartsBox"},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:t.fullscreenLoading,expression:"fullscreenLoading"}],ref:"canvsWidth",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.8)",id:"canvasBox"}})],1)])],1)],1)])},staticRenderFns:[]};var d=a("VU/8")(l,c,!1,function(t){a("YyDJ"),a("rttb")},"data-v-22643182",null);e.default=d.exports}});
//# sourceMappingURL=13.c04926899d695ddb2c7e.js.map